# 第3章：プログラムの流れを作る（分岐と繰り返し）

プログラムに「判断力」と「根気」を与えましょう。

この章では、条件分岐（if）と繰り返し（loop/for）を学びます。

## はじめに：プログラミングの「3つの動き」

実は、どんなに複雑なプログラムも、基本的にはたった **3つの動き** の組み合わせでできています。

| 動きの名前 | イメージ | 説明 |
| :--- | :--- | :--- |
| **1. 順次進行**<br>(Sequence) | **上から下へ** | プログラムの基本です。書かれた命令を、上から順番に1行ずつ実行します。<br>（第1〜2章はこれだけでした） |
| **2. 条件分岐**<br>(Selection) | **分かれ道** | 「もし〜ならA、そうでなければB」というように、状況に合わせて進む道を変えます。<br>**(今回学びます！)** |
| **3. 繰り返し**<br>(Repetition) | **ぐるぐる回る** | 「〜の間、作業を続ける」というように、同じ処理を何度も繰り返します。<br>**(今回学びます！)** |

これまでは「1. 順次進行」だけの一本道でしたが、この章で「2. 分岐」と「3. 繰り返し」を覚えることで、プログラムはどんな動きでも表現できるようになります。

## 1. 条件分岐（if文）

Javaの **if** 文は、**「条件が合っているか（true）、合っていないか（false）」** だけで判断します。

**Condition.java** に追記してみてください。

```java
if (score >= 60) { 
    // scoreが60以上ならここを実行
}
```

### 【コラム】Javaのif文は「空気を読みません」

JavaScriptやPythonなどの言語を知っている人は注意してください。

他の言語では **if (1)** や **if ("文字")** を「OK（true）」とみなすことがありますが、**Javaではエラーになります**。

- NG: **if (1)** ... 整数は判定に使えません。
- OK: **if (1 == 1)** ... これなら結果が true (boolean型) になるのでOKです。
  - 豆知識: **Boolean** (参照型) も条件に使えますが、値が空っぽ(**null**)だとエラーで落ちてしまうため、基本は **boolean** (プリミティブ型) を使います。

## 2. 配列（はいれつ）

**Loop.java** に登場する **int[]** は、変数のセット販売のようなものです。

```java
// 5つの数字をまとめて「scores」という名前で管理
int[] scores = {10, 20, 30, 40, 50};
```

データを取り出すときは、0から始まる番号（添字）を使います。

**scores[0]** は **10**、**scores[1]** は **20** です。

| 種類 | 書き方 | 中身のイメージ |
| -- | -- | -- |
| プリミティブ型の配列 | **int[] list = {1, 2};** | 箱の中に数字が直接入っている |
| 参照型の配列 | **String[] list = {"A", "B"};** | 箱の中に「文字情報の場所」が入っている |

## 3. 繰り返し (for文)

人間は単純作業が苦手ですが、コンピュータは得意です。

**Loop.java** では2種類の書き方を紹介しています。

### A. 基本的なfor文（回数を指定）

昔からある書き方であるため、他の言語でも使えることが多いです。

「何回繰り返すか」を細かく制御できます。

```java
for (int i = 0; i < 5; i++) { ... }
```

呪文のように見えますが、以下の3ステップを書いています：

1. **int i = 0** : スタート地点（カウンターを0にセット）
1. **i < 5** : ゴール地点（5より小さい間は続ける）
1. **i++** : 進み方（1回終わるごとにカウンターを1増やす）

つまり、「配列の途中から処理したい」や「1つ飛ばしで処理したい」場合に特に有効です。

### B. 拡張for文（データ全部）

現代のJavaでよく使われる、スマートな書き方です。

細かい数字（添字）を気にしなくていいので、バグが出にくい書き方です。

「配列の中身を全部処理したい」ときに、特に有効です。

```java
// scoresの中身を、先頭から1つずつ s に入れて繰り返す
for (int s : scores) {
    System.out.println(s);
}
```

## チャレンジ：FizzBuzz問題

余裕があれば、**Loop.java** を改造して、有名なプログラミング問題に挑戦してみましょう！

- 問題: 1から30までの数字を順番に表示してください。ただし...
  - 3の倍数のときは数字の代わりに "Fizz" と表示
  - 5の倍数のときは数字の代わりに "Buzz" と表示
  - 両方（15など）のときは "FizzBuzz" と表示

<details>
    <summary>答えを見る（クリックして展開）</summary>

```java
for (int i = 1; i <= 30; i++) {
    if (i % 15 == 0) { // % は「割り算の余り」
        System.out.println("FizzBuzz");
    } else if (i % 3 == 0) {
        System.out.println("Fizz");
    } else if (i % 5 == 0) {
        System.out.println("Buzz");
    } else {
        System.out.println(i);
    }
}
```

</details>

## 第3章のまとめ

- **if文**: 条件によって処理を分ける。
- **配列**: 複数のデータをまとめて管理する。
- **for文**: 繰り返し処理を行う。
  - 複雑な制御なら「基本のfor」
  - 配列を全部見るだけなら「拡張for」が楽。
